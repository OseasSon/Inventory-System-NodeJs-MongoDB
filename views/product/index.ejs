<html lang="en">
<%- include("../partials/head.ejs") %>

  <body class="">
    <%- include("../partials/nav.ejs") %>

    <div class="container mx-auto px-4">

      <div class="flex justify-between items-center mb-4">
        <a href="/products/create" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
          New Product
        </a>
      </div>

      <div class="">
        <% if (products.length> 0) { %>
          <table class="table-auto w-full">
            <thead>
              <tr>
                <th class="px-4 py-2">Image</th>
                <th class="px-4 py-2">ID</th>
                <th class="px-4 py-2">Name</th>
                <th class="px-4 py-2">Brand</th>
                <th class="px-4 py-2">Price</th>
              </tr>
            </thead>
            <tbody>
              <% products.forEach(product=> { %>
                <tr>
                  <td class="border px-4 py-2">
                    <img src="<%= product.image %>" alt="<%= product.name %>" class="w-10 h-10 object-cover">
                  </td>
                  <td class="border px-4 py-2">
                    <a href="/products/<%= product._id %>" class="text-blue-500 hover:text-blue-800">
                      <%= product._id %>
                    </a>
                  </td>
                  <td class="border px-4 py-2">
                    <a href="/products/<%= product._id %>" class="text-blue-500 hover:text-blue-800">
                      <%= product.name %>
                    </a>
                  </td>
                  <td class="border px-4 py-2">
                    <%= product.manufacturer %>
                  </td>
                  <td class="border px-4 py-2">
                    <%= product.price %>
                  </td>
                </tr>
                <% }) %>
            </tbody>
          </table>
          <% } else { %>
            <p class="text-red-500">There are no products to display...</p>
            <% } %>
      </div>
    </div>
  </body>

</html>
